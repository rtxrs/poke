import"./loadHeader-DqtcMgNc.js";/* empty css                     */document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("form-credentials"),i=document.getElementById("form-playerId"),s=document.getElementById("credential-error"),d=document.getElementById("playerId-error"),n=(e,r)=>{e.textContent=r,e.style.display="block"},l=e=>{e.textContent="",e.style.display="none"};a&&a.addEventListener("submit",async e=>{e.preventDefault(),l(s);const r=a.username.value,t=a.password.value;if(!r||!t){n(s,"Please enter both username and password.");return}try{const o=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:t})});if(o.ok)window.location.href="/me";else{const c=await o.json();n(s,c.message||"Login failed.")}}catch(o){console.error("Error during login:",o),n(s,"An unexpected error occurred. Please try again.")}}),i&&i.addEventListener("submit",async e=>{e.preventDefault(),l(d);const r=i.playerId.value;if(!r){n(d,"Please enter your Player Support ID.");return}try{const t=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:r})});if(t.ok)window.location.href="/me";else{const o=await t.json();n(d,o.message||"Login failed.")}}catch(t){console.error("Error during login:",t),n(d,"An unexpected error occurred. Please try again.")}})});
